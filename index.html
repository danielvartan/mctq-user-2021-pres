<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>mctq: An R Package for the Munich ChronoType Questionnaire</title>
    <meta charset="utf-8" />
    <meta name="author" content="Daniel Vartanian" />
    <script src="libs/header-attrs-2.9/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/useR.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/useR-fonts.css" rel="stylesheet" />
    <script src="libs/clipboard-2.0.6/clipboard.min.js"></script>
    <link href="libs/xaringanExtra-clipboard-0.2.6/xaringanExtra-clipboard.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-clipboard-0.2.6/xaringanExtra-clipboard.js"></script>
    <script>window.xaringanExtraClipboard(null, {"button":"Copy Code","success":"Copied!","error":"Press Ctrl+C to Copy"})</script>
    <link href="libs/xaringanExtra-extra-styles-0.2.6/xaringanExtra-extra-styles.css" rel="stylesheet" />
    <script src="libs/freezeframe-5.0.2/freezeframe.min.js"></script>
    <script src="libs/xaringanExtra-freezeframe-0.0.1/freezeframe-init.js"></script>
    <script id="xaringanExtra-freezeframe-options" type="application/json">{"selector":"img[src$=\"gif\"]","trigger":"click","overlay":false,"responsive":false,"warnings":true}</script>
    <link href="libs/tile-view-0.2.6/tile-view.css" rel="stylesheet" />
    <script src="libs/tile-view-0.2.6/tile-view.js"></script>
    <script src="libs/xaringanExtra-webcam-0.0.1/webcam.js"></script>
    <script id="xaringanExtra-webcam-options" type="application/json">{"width":"200","height":"200","margin":"1em"}</script>
    <meta name="description" content="A gentle introduction to reproducible data workflows with the {mctq} package."/>
    <meta name="generator" content="xaringan and remark.js"/>
    <meta name="github-repo" content="gipsousp/mctq.user2021"/>
    <meta name="twitter:title" content="mctq: An R Package for the Munich ChronoType Questionnaire"/>
    <meta name="twitter:description" content="A gentle introduction to reproducible data workflows with the {mctq} package."/>
    <meta name="twitter:url" content=""/>
    <meta name="twitter:image:src" content=""/>
    <meta name="twitter:image:alt" content=""/>
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:creator" content="@danielvartan"/>
    <meta name="twitter:site" content="@danielvartan"/>
    <meta property="og:title" content="mctq: An R Package for the Munich ChronoType Questionnaire"/>
    <meta property="og:description" content="A gentle introduction to reproducible data workflows with the {mctq} package."/>
    <meta property="og:url" content=""/>
    <meta property="og:image" content=""/>
    <meta property="og:image:alt" content=""/>
    <meta property="og:type" content="website"/>
    <meta property="og:locale" content="en_US"/>
    <meta property="article:author" content="Daniel Vartanian"/>
    <script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
    <script src="libs/jquery-3.5.1/jquery.min.js"></script>
    <link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
    <script src="libs/datatables-binding-0.18/datatables.js"></script>
    <link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
    <script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
    <link href="libs/dt-ext-keytable-1.10.20/css/keyTable.dataTables.min.css" rel="stylesheet" />
    <script src="libs/dt-ext-keytable-1.10.20/js/dataTables.keyTable.min.js"></script>
    <link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
    <script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
    <link rel="stylesheet" href="css/custom.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# mctq: An R Package for the Munich ChronoType Questionnaire
## An R Package for the Munich ChronoType Questionnaire
### Daniel Vartanian
### Interdisciplinary Sleep Research Group (GIPSO)
### July/2021

---









## Overview

.pull-left[
`mctq` is an R package that provides a complete and consistent toolkit to process the Munich ChronoType Questionnaire (MCTQ), a quantitative and validated method to assess peoples’ sleep behavior presented by Till Roenneberg, Anna Wirz-Justice, and Martha Merrow in [2003](https://doi.org/10.1177/0748730402239679).

The aim of `mctq` is to facilitate the work of sleep and chronobiology scientists with MCTQ data while also helping with research reproducibility.
]

.pull-right[
&lt;img src="img/logo.png" width="50%" style="display: block; margin: auto;" /&gt;

* Code repository: [https://github.com/gipsousp/mctq](https://github.com/gipsousp/mctq)

* Documentation: [https://gipsousp.github.io/mctq](https://gipsousp.github.io/mctq)
]

???

00:00 -&gt; 00:30

---

## Authors

* Daniel Vartanian
* Ana Amélia Benedito-Silva
* Mario Pedrazzoli
* 



---

class: chapter-slide

# What is the MCTQ?

???

00:31 -&gt; 01:30

---

## Circadian phenotypes: a (very) brief history of time and life

.pull-left[
&lt;img src="https://media.giphy.com/media/l1J9RYDHqVp5phcYw/giphy.gif" width="100%" style="display: block; margin: auto;" /&gt;
]

.pull-right[
&lt;img src="https://media.giphy.com/media/JDENkPiyQoCFW/giphy.gif" width="100%" style="display: block; margin: auto;" /&gt;
]

---

## Chronotypes

&lt;img src="https://media.giphy.com/media/ZcbHiTENuUmxa6w9Cu/giphy.gif" width="50%" style="display: block; margin: auto;" /&gt;

---

## But, how to measure this?

---

## The MCTQ questionnaire

---

background-image: url("img/article_1.png")
background-position: center
background-size: contain

---

background-image: url("img/article_2.png")
background-position: center
background-size: contain

---

background-image: url("img/article_3.png")
background-position: center
background-size: contain

---

background-image: url("img/thewep_mctq-core_1.png")
background-position: center
background-size: contain

---

background-image: url("img/thewep_mctq-core_2.png")
background-position: center
background-size: contain

---

background-image: url("img/thewep_mctq-variables_1.png")
background-position: center
background-size: contain

---

background-image: url("img/thewep_mctq-variables_2.png")
background-position: center
background-size: contain

---

background-image: url("img/thewep_mctq-variables_3.png")
background-position: center
background-size: contain

---

class: chapter-slide

# The problem(s)

???

01:31 -&gt; 02:30

---

* MCTQ requires a lot of date/time manipulation
* MCTQ deals with temporal objects detached from a timeline
* Lack of consistency of computations
* Inconsistencies lead to irreproducible results

 These problems surface even more when dealing with a large dataset.

---

## Temporal objects

Time objects demand more abstractions levels.

.pull-left[
* Time is not metric (except for seconds)
* Time is cyclical (except for durations)
* Time is relational (itself does not exist)

&gt; Cool stuff: [Why Don't We Have Metric Time? | Answers With Joe](https://youtu.be/kUIYI34CdkE).
]

.pull-right[
&lt;img src="https://media.giphy.com/media/3o6MbjnP31zfxSI2Zi/giphy.gif" width="100%" style="display: block; margin: auto;" /&gt;
]

???

* Duodecimal (base 12) and sexagesimal (base 60) systems.
* Time frames (e.g., 24, 12, 60)

---

class: chapter-slide

# The `mctq` package

???

02:31 -&gt; 04:30

---

## Installation

## Workdays and work-free days variables

## Combining workdays and work-free days variables

## Utilities

---

class: chapter-slide

# Final considerations

???

04:31 -&gt; 05:00

---

## Note

* `mctq` is maturing
* `mctq` is fully documented
* `mctq` is currently under a rOpenSci peer review
* `mctq` will be submitted to CRAN soon
* We plan to invite the MCTQ authors to the package
* An article about `mctq` will be published soon

---

class: chapter-slide

# TEMP

---


# Header 1

## Header 2

### Header 3

#### Header 4

##### Header 5

---

## Bullet points

* Test
* Test
  + Test
  + Test
    - Test
    - Test
* Test

---

## List points

1. Test
1. Test
  + Test
  + Test
    - Test
    - Test
1. Test

---

## Alignment

.left[
## Left

Some text
]

.center[
## Center

Some text
]

.right[
## Right

Some text
]

---

## Alignment


```r
# fig.align = "left", out.width = "5%"
knitr::include_graphics("img/logo.png")
```

&lt;img src="img/logo.png" width="5%" style="display: block; margin: auto auto auto 0;" /&gt;


```r
# fig.align = "center", out.width = "5%"
knitr::include_graphics("img/logo.png")
```

&lt;img src="img/logo.png" width="5%" style="display: block; margin: auto;" /&gt;


```r
# fig.align = "right", out.width = "5%"
knitr::include_graphics("img/logo.png")
```

&lt;img src="img/logo.png" width="5%" style="display: block; margin: auto 0 auto auto;" /&gt;

---

## Two-column layout

Pull left/right

.pull-left[
Some text

* Test 1
* Test 2
]

.pull-right[
Some text

* Test 1
* Test 2
]

---

## Two-column layout

Left/right column

.left-column[
Some text

* Test 1
* Test 2
]

.right-column[
Some text

* Test 1
* Test 2
]

---

### Code chunk


```r
# some code
seq(1:5)
```

```
## [1] 1 2 3 4 5
```

---

## Table test: `mctq::std_mctq`

.table[
<div id="htmlwidget-ffabb0819aaaa9853ebf" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-ffabb0819aaaa9853ebf">{"x":{"filter":"none","extensions":["KeyTable"],"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],[true,true,true,true,true,true,true,true,true,true,true,true,true,null,true,true,true,false,true,true,true,true,true,true,true,true,true,true,false,true,true,true,null,false,true,true,true,true,true,true,null,true,true,false,false,false,true,true,true,false],[5,5,2,5,3,4,6,5,5,5,2,5,7,null,2,3,5,0,2,3,7,5,2,3,5,5,7,4,0,5,2,4,null,0,5,5,4,7,4,5,null,5,5,0,0,0,5,5,5,0],[2,2,5,2,4,3,1,2,2,2,5,2,0,null,5,4,2,7,5,4,0,2,5,4,2,2,0,3,7,2,5,3,null,7,2,2,3,0,3,2,null,2,2,7,7,7,2,2,2,7],["22:30:00","22:50:00","21:25:00","00:30:00","22:25:00","21:00:00",null,"22:30:00","22:00:00","23:00:00","00:45:00","00:05:00","21:45:00",null,"22:30:00","20:40:00","22:00:00",null,"22:20:00","22:30:00","23:00:00","00:15:00","21:00:00","00:45:00","20:20:00","23:10:00","20:55:00","22:40:00","22:25:00","22:20:00","21:55:00","22:45:00",null,null,"22:35:00","22:25:00","23:00:00","22:40:00","23:00:00","22:55:00",null,"23:55:00","00:00:00","22:00:00","21:50:00","23:35:00","22:50:00","21:55:00","23:40:00","22:50:00"],["23:00:00","23:20:00","21:30:00","01:30:00","22:45:00","21:55:00",null,"23:10:00","23:00:00","00:00:00","01:10:00","00:35:00","22:25:00",null,"00:00:00","21:00:00","22:40:00",null,"23:05:00","22:35:00","23:30:00","00:55:00","21:30:00","01:15:00","20:25:00","23:10:00","21:45:00","23:40:00","23:00:00","22:25:00","22:00:00","23:00:00",null,"02:00:00","22:55:00","23:20:00","23:50:00","22:40:00","00:00:00","23:05:00",null,"00:55:00","00:30:00","22:45:00","22:05:00","00:15:00","23:20:00","21:55:00","00:40:00","23:10:00"],["00:30:00","00:30:00","00:05:00","00:15:00","00:30:00","00:15:00",null,"00:50:00","00:10:00","00:15:00","00:15:00","00:25:00","00:35:00",null,"01:00:00","00:40:00","00:15:00",null,"00:05:00","00:10:00","00:10:00","00:25:00","00:15:00","00:15:00","00:30:00","00:05:00","00:25:00","00:35:00","00:20:00","00:15:00","00:15:00","00:20:00",null,"00:30:00","00:20:00","00:10:00","00:35:00","00:05:00","00:10:00","00:35:00",null,"00:15:00","00:15:00","00:05:00","00:20:00","00:10:00","00:15:00","00:25:00","00:25:00","00:05:00"],["23:30:00","23:50:00","21:35:00","01:45:00","23:15:00","22:10:00",null,"00:00:00","23:10:00","00:15:00","01:25:00","01:00:00","23:00:00",null,"01:00:00","21:40:00","22:55:00",null,"23:10:00","22:45:00","23:40:00","01:20:00","21:45:00","01:30:00","20:55:00","23:15:00","22:10:00","00:15:00","23:20:00","22:40:00","22:15:00","23:20:00",null,"02:30:00","23:15:00","23:30:00","00:25:00","22:45:00","00:10:00","23:40:00",null,"01:10:00","00:45:00","22:50:00","22:25:00","00:25:00","23:35:00","22:20:00","01:05:00","23:15:00"],["08:00:00","06:55:00","05:05:00","06:30:00","06:00:00","04:30:00",null,"08:00:00","07:00:00","07:15:00","08:55:00","10:00:00","06:50:00",null,"08:00:00","04:30:00","05:20:00",null,"07:45:00","06:35:00","06:30:00","07:00:00","09:15:00","06:20:00","03:50:00","05:00:00","02:25:00","06:05:00","09:30:00","04:40:00","04:30:00","07:55:00",null,"12:15:00","05:30:00","05:35:00","07:50:00","08:20:00","05:00:00","07:40:00",null,"08:40:00","07:00:00","06:35:00","06:00:00","07:45:00","06:30:00","05:20:00","08:40:00","06:05:00"],["00:10:00","00:25:00","00:05:00","00:05:00","00:40:00","00:15:00",null,"00:15:00","00:05:00","00:30:00","00:20:00","00:30:00","00:15:00",null,"00:10:00","00:10:00","00:10:00",null,"00:10:00","00:10:00","00:05:00","00:15:00","00:10:00","00:10:00","00:30:00","00:40:00","00:25:00","00:10:00","00:10:00","00:30:00","00:05:00","00:10:00",null,"00:20:00","00:15:00","00:20:00","00:40:00","00:05:00","00:05:00","00:10:00",null,"00:20:00","00:05:00","00:25:00","00:05:00","00:35:00","00:05:00","00:10:00","00:15:00","00:15:00"],["08:10:00","07:20:00","05:10:00","06:35:00","06:40:00","04:45:00",null,"08:15:00","07:05:00","07:45:00","09:15:00","10:30:00","07:05:00",null,"08:10:00","04:40:00","05:30:00",null,"07:55:00","06:45:00","06:35:00","07:15:00","09:25:00","06:30:00","04:20:00","05:40:00","02:50:00","06:15:00","09:40:00","05:10:00","04:35:00","08:05:00",null,"12:35:00","05:45:00","05:55:00","08:30:00","08:25:00","05:05:00","07:50:00",null,"09:00:00","07:05:00","07:00:00","06:05:00","08:20:00","06:35:00","05:30:00","08:55:00","06:20:00"],[true,true,true,true,true,false,null,true,true,false,true,true,true,null,false,true,true,null,true,false,true,false,false,true,false,true,true,true,true,true,true,false,null,false,true,true,true,true,true,true,null,true,true,true,true,true,true,true,true,false],[true,false,false,false,false,null,null,false,false,null,false,false,false,null,null,false,true,null,false,null,false,null,null,false,null,false,false,false,false,false,false,null,null,null,false,false,false,false,false,false,null,false,false,false,false,false,false,false,false,null],["08:30:00","07:05:00","07:30:00","04:45:00","06:45:00","06:20:00",null,"08:00:00","07:50:00","07:00:00","07:30:00","09:00:00","07:50:00",null,"07:00:00","06:50:00","06:25:00",null,"08:35:00","07:50:00","06:50:00","05:40:00","11:30:00","04:50:00","06:55:00","05:45:00","04:15:00","05:50:00","10:10:00","06:00:00","06:15:00","08:35:00",null,"09:45:00","06:15:00","06:05:00","07:25:00","09:35:00","04:50:00","08:00:00",null,"07:30:00","06:15:00","07:45:00","07:35:00","07:20:00","06:55:00","07:00:00","07:35:00","06:50:00"],["09:40:00","08:30:00","07:45:00","06:05:00","08:15:00","07:45:00",null,"09:45:00","09:05:00","08:45:00","08:30:00","10:25:00","09:20:00",null,"09:40:00","08:00:00","07:30:00",null,"09:35:00","08:15:00","07:35:00","07:00:00","12:25:00","05:45:00","08:00:00","06:30:00","05:55:00","07:35:00","11:15:00","06:50:00","06:40:00","09:20:00",null,null,"07:10:00","07:30:00","09:30:00","09:45:00","06:05:00","08:55:00",null,"09:05:00","07:05:00","09:00:00","08:15:00","08:45:00","07:45:00","07:35:00","09:15:00","07:30:00"],["01:00:00","01:00:00","02:00:00","02:00:00","00:25:00","03:45:00",null,"02:15:00","01:00:00","03:00:00","01:55:00","01:10:00","01:15:00",null,"01:20:00","02:10:00","01:00:00",null,"02:20:00","01:45:00","02:00:00","03:20:00","05:00:00","01:50:00","01:00:00","01:40:00","00:35:00","01:25:00","03:00:00","02:15:00","02:00:00","00:20:00",null,"02:15:00","02:00:00","01:10:00","00:40:00","02:00:00","04:00:00","00:35:00",null,"00:10:00","01:55:00","01:40:00","00:05:00","00:45:00","00:15:00","02:30:00","03:05:00","02:00:00"],["03:45:00","03:22:30","01:20:00","04:07:30","02:37:30","01:20:00",null,"04:00:00","03:05:00","03:45:00","05:10:00","05:30:00","02:55:00",null,"04:30:00","01:05:00","02:07:30",null,"03:27:30","02:40:00","03:05:00","04:10:00","03:30:00","03:55:00","00:22:30","02:07:30","00:17:30","03:10:00","04:25:00","01:40:00","01:22:30","03:37:30",null,"07:22:30","02:22:30","02:32:30","04:07:30","03:32:30","02:35:00","03:40:00",null,"04:55:00","03:52:30","02:42:30","02:12:30","04:05:00","03:02:30","01:50:00","04:52:30","02:40:00"],["22:30:00","23:35:00","21:55:00","01:00:00","23:30:00","21:00:00","22:30:00","22:40:00","22:00:00","01:00:00","23:15:00","23:40:00","00:25:00",null,null,"00:50:00","00:10:00","03:30:00","23:20:00","23:55:00",null,"23:45:00","00:00:00","00:45:00","22:20:00","00:15:00","01:35:00","23:00:00","23:35:00","23:15:00","23:50:00","00:10:00",null,null,"23:35:00","22:55:00","00:55:00","00:30:00","00:00:00","23:20:00",null,"00:20:00","01:00:00","00:35:00","00:50:00","22:00:00","23:00:00","23:15:00","03:15:00","00:20:00"],["23:00:00","00:15:00","23:20:00","02:30:00","00:05:00","22:25:00","22:30:00","00:15:00","23:00:00","01:30:00","00:55:00","01:00:00","01:30:00",null,null,"02:25:00","01:40:00","04:00:00","00:35:00","00:35:00",null,"00:55:00","00:30:00","02:05:00","23:15:00","01:05:00","02:55:00","00:50:00","00:30:00","00:40:00","00:45:00","01:30:00",null,"04:30:00","00:45:00","00:30:00","02:15:00","00:30:00","01:30:00","23:55:00",null,"01:40:00","01:00:00","02:00:00","02:15:00","23:00:00","00:20:00","00:40:00","04:55:00","02:20:00"],["00:45:00","00:05:00","00:10:00","00:15:00","00:30:00","00:25:00","00:15:00","00:25:00","00:10:00","01:00:00","00:25:00","00:30:00","00:30:00",null,null,"00:40:00","00:15:00","01:30:00","00:25:00","00:10:00",null,"00:15:00","00:05:00","00:20:00","00:30:00","00:25:00","00:35:00","00:10:00","00:20:00","00:20:00","00:20:00","00:30:00",null,"00:15:00","00:40:00","00:15:00","00:05:00","00:05:00","00:15:00","00:30:00",null,"00:20:00","00:30:00","00:10:00","00:25:00","00:25:00","00:20:00","00:30:00","00:30:00","00:10:00"],["23:45:00","00:20:00","23:30:00","02:45:00","00:35:00","22:50:00","22:45:00","00:40:00","23:10:00","02:30:00","01:20:00","01:30:00","02:00:00",null,null,"03:05:00","01:55:00","05:30:00","01:00:00","00:45:00",null,"01:10:00","00:35:00","02:25:00","23:45:00","01:30:00","03:30:00","01:00:00","00:50:00","01:00:00","01:05:00","02:00:00",null,"04:45:00","01:25:00","00:45:00","02:20:00","00:35:00","01:45:00","00:25:00",null,"02:00:00","01:30:00","02:10:00","02:40:00","23:25:00","00:40:00","01:10:00","05:25:00","02:30:00"],["08:30:00","10:10:00","07:20:00","12:00:00","10:50:00","05:50:00","06:00:00","10:05:00","07:00:00","10:00:00","07:30:00","10:40:00","09:55:00",null,null,"11:00:00","07:50:00","15:00:00","09:05:00","08:50:00",null,"11:10:00","06:00:00","07:05:00","06:55:00","10:10:00","12:35:00","07:45:00","10:10:00","09:05:00","10:55:00","11:05:00",null,"14:12:00","09:10:00","06:40:00","11:50:00","07:55:00","11:00:00","08:15:00",null,"10:45:00","08:00:00","10:05:00","14:20:00","09:05:00","08:40:00","09:55:00","12:30:00","10:10:00"],["00:05:00","00:25:00","00:20:00","00:30:00","00:15:00","00:15:00","00:03:00","00:15:00","00:05:00","00:15:00","00:20:00","00:30:00","00:15:00",null,null,"00:15:00","00:15:00","00:30:00","00:25:00","00:15:00",null,"00:15:00","00:05:00","00:20:00","00:05:00","00:05:00","00:25:00","00:35:00","00:15:00","00:35:00","00:40:00","00:35:00",null,"00:30:00","00:50:00","00:20:00","00:25:00","00:25:00","00:05:00","00:10:00",null,"00:25:00","00:00:00","00:25:00","00:35:00","00:15:00","00:05:00","00:20:00","00:10:00","00:40:00"],["08:35:00","10:35:00","07:40:00","12:30:00","11:05:00","06:05:00","06:03:00","10:20:00","07:05:00","10:15:00","07:50:00","11:10:00","10:10:00",null,null,"11:15:00","08:05:00","15:30:00","09:30:00","09:05:00",null,"11:25:00","06:05:00","07:25:00","07:00:00","10:15:00","13:00:00","08:20:00","10:25:00","09:40:00","11:35:00","11:40:00",null,"14:42:00","10:00:00","07:00:00","12:15:00","08:20:00","11:05:00","08:25:00",null,"11:10:00","08:00:00","10:30:00","14:55:00","09:20:00","08:45:00","10:15:00","12:40:00","10:50:00"],[false,false,false,false,false,true,true,false,true,false,false,false,false,null,null,false,false,false,false,false,null,true,false,false,false,false,false,false,false,true,false,false,null,false,false,false,false,false,false,true,null,false,true,false,false,false,false,false,false,false],[false,false,false,false,false,false,true,true,false,true,false,false,false,null,null,false,true,false,false,false,null,false,true,false,false,false,false,false,false,false,false,false,null,true,false,false,false,true,true,false,null,false,true,false,false,false,false,true,true,false],[null,null,null,null,null,null,"Hobbies","Child(ren)/pet(s)",null,"Hobbies",null,null,null,null,null,null,"Child(ren)/pet(s)",null,null,null,null,null,"Hobbies",null,null,null,null,null,null,null,null,null,null,"Hobbies",null,null,null,"Hobbies","Child(ren)/pet(s)",null,null,null,"Child(ren)/pet(s)",null,null,null,null,"Child(ren)/pet(s)","Child(ren)/pet(s)",null],["08:45:00","09:50:00","07:50:00","09:15:00","10:15:00","07:00:00","07:15:00","09:25:00","07:50:00","07:30:00","06:10:00","09:10:00","07:55:00",null,null,"07:55:00","05:55:00","09:30:00","08:05:00","08:05:00",null,"10:00:00","05:25:00","04:40:00","07:10:00","08:40:00","09:05:00","06:45:00","09:20:00","08:05:00","09:50:00","09:05:00",null,"09:27:00","07:45:00","05:55:00","09:30:00","07:20:00","09:15:00","07:50:00",null,"08:45:00","06:30:00","07:55:00","11:40:00","09:40:00","08:00:00","08:45:00","07:05:00","07:40:00"],["10:05:00","11:00:00","09:45:00","11:30:00","11:35:00","09:05:00","07:33:00","11:40:00","09:05:00","09:15:00","08:35:00","11:30:00","09:45:00",null,null,"10:25:00","07:55:00","12:00:00","10:10:00","09:10:00",null,"11:40:00","06:05:00","06:40:00","08:40:00","10:00:00","11:25:00","09:20:00","10:50:00","10:25:00","11:45:00","11:30:00",null,null,"10:25:00","08:05:00","11:20:00","07:50:00","11:05:00","09:05:00",null,"10:50:00","07:00:00","09:55:00","14:05:00","11:20:00","09:45:00","11:00:00","09:25:00","10:30:00"],["00:00:00","03:20:00","03:35:00","04:00:00","02:15:00","01:20:00","01:30:00","02:45:00","01:00:00","04:30:00","02:35:00","01:45:00","02:40:00",null,null,"03:40:00","01:50:00","00:30:00","01:30:00","01:50:00",null,"02:30:00","07:00:00","02:35:00","02:45:00","02:25:00","02:35:00","02:20:00","03:00:00","00:30:00","03:25:00","03:10:00",null,null,"02:45:00","03:50:00","03:20:00","02:10:00","06:00:00","02:55:00",null,"01:30:00","04:45:00","02:40:00","03:05:00","01:25:00","01:50:00","03:00:00","01:40:00","03:40:00"],["04:07:30","05:15:00","03:25:00","07:22:30","05:42:30","02:20:00","02:22:30","05:22:30","03:05:00","06:15:00","04:25:00","06:05:00","05:57:30",null,null,"07:02:30","04:52:30","10:15:00","05:02:30","04:47:30",null,"06:10:00","03:17:30","04:45:00","03:20:00","05:50:00","08:02:30","04:22:30","05:30:00","05:02:30","06:00:00","06:32:30",null,"09:28:30","05:17:30","03:42:30","07:05:00","04:15:00","06:22:30","04:20:00",null,"06:22:30","04:45:00","06:07:30","08:30:00","04:15:00","04:40:00","05:32:30","08:57:30","06:20:00"],["08:34:17","07:52:09","07:44:17","06:02:09","08:45:00","06:37:09",null,"08:24:17","07:50:00","07:08:34","06:32:51","09:02:51","07:50:00",null,null,"07:27:09","06:16:26","09:30:00","08:13:34","07:58:34","06:50:00","06:54:17","07:09:17","04:44:17","06:59:17","06:35:00","04:15:00","06:13:34","09:20:00","06:35:43","08:48:34","08:47:51",null,"09:27:00","06:40:43","06:02:09","08:18:34","09:35:00","06:43:34","07:57:09",null,"07:51:26","06:19:17","07:55:00","11:40:00","09:40:00","07:13:34","07:30:00","07:26:26","07:40:00"],["00:21:26","03:55:43","00:28:34","06:25:43","06:00:00","01:08:34",null,"02:01:26","00:00:00","00:42:51","01:54:17","00:14:17","00:00:00",null,null,"01:51:26","00:42:51","00:00:00","00:42:51","00:25:43",null,"06:11:26","08:41:26","00:17:09","00:21:26","04:10:00","00:00:00","01:34:17","00:00:00","02:58:34","05:07:09","00:51:26",null,"00:00:00","02:08:34","00:14:17","03:34:17","00:00:00","07:34:17","00:14:17",null,"01:47:09","00:21:26","00:00:00","00:00:00","00:00:00","01:32:51","02:30:00","00:42:51","00:00:00"],["00:42:51","01:40:00","03:07:51","02:34:17","01:27:51","02:42:51",null,"02:23:34","01:00:00","03:25:43","02:23:34","01:20:00","01:15:00",null,null,"03:01:26","01:14:17","00:30:00","01:44:17","01:47:51","02:00:00","03:05:43","06:25:43","02:15:43","01:30:00","01:52:51","00:35:00","01:48:34","03:00:00","01:45:00","03:00:43","01:32:51",null,null,"02:12:51","01:55:43","01:48:34","02:00:00","04:51:26","01:15:00",null,"00:32:51","02:43:34","02:40:00","03:05:00","01:25:00","00:42:09","02:38:34","02:40:43","03:40:00"],["04:02:09","04:16:04","03:22:09","05:46:04","04:57:30",null,null,"04:52:09",null,"06:04:17","04:25:00","06:01:26","05:55:00",null,null,"06:48:34","04:52:30","10:15:00","05:02:30","04:44:17",null,null,"03:17:30","04:45:00","03:14:39","04:47:30","05:37:30","04:06:47","05:30:00",null,"05:29:17","06:23:56",null,"09:28:30","04:45:21","03:42:30","06:29:17","04:15:00","05:06:47",null,null,"05:55:43",null,"06:07:30","08:30:00","04:15:00","04:16:47","04:55:00","08:57:30","06:20:00"],["00:22:30","01:52:30","02:05:00","03:15:00","03:05:00","01:00:00",null,"01:22:30","00:00:00","02:30:00","-00:45:00","00:35:00","03:02:30",null,null,"05:57:30","02:45:00","00:00:00","01:35:00","02:07:30",null,"02:00:00","-00:12:30","00:50:00","02:57:30","03:42:30","07:45:00","01:12:30","01:05:00","03:22:30","04:37:30","02:55:00",null,"02:06:00","02:55:00","01:10:00","02:57:30","00:42:30","03:47:30","00:40:00",null,"01:27:30","00:52:30","03:25:00","06:17:30","00:10:00","01:37:30","03:42:30","04:05:00","03:40:00"],["00:22:30","01:52:30","02:05:00","03:15:00","03:05:00","01:00:00",null,"01:22:30","00:00:00","02:30:00","00:45:00","00:35:00","03:02:30",null,null,"05:57:30","02:45:00","00:00:00","01:35:00","02:07:30",null,"02:00:00","00:12:30","00:50:00","02:57:30","03:42:30","07:45:00","01:12:30","01:05:00","03:22:30","04:37:30","02:55:00",null,"02:06:00","02:55:00","01:10:00","02:57:30","00:42:30","03:47:30","00:40:00",null,"01:27:30","00:52:30","03:25:00","06:17:30","00:10:00","01:37:30","03:42:30","04:05:00","03:40:00"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>id<\/th>\n      <th>work<\/th>\n      <th>wd<\/th>\n      <th>fd<\/th>\n      <th>bt_w<\/th>\n      <th>sprep_w<\/th>\n      <th>slat_w<\/th>\n      <th>so_w<\/th>\n      <th>se_w<\/th>\n      <th>si_w<\/th>\n      <th>gu_w<\/th>\n      <th>alarm_w<\/th>\n      <th>wake_before_w<\/th>\n      <th>sd_w<\/th>\n      <th>tbt_w<\/th>\n      <th>le_w<\/th>\n      <th>msw<\/th>\n      <th>bt_f<\/th>\n      <th>sprep_f<\/th>\n      <th>slat_f<\/th>\n      <th>so_f<\/th>\n      <th>se_f<\/th>\n      <th>si_f<\/th>\n      <th>gu_f<\/th>\n      <th>alarm_f<\/th>\n      <th>reasons_f<\/th>\n      <th>reasons_why_f<\/th>\n      <th>sd_f<\/th>\n      <th>tbt_f<\/th>\n      <th>le_f<\/th>\n      <th>msf<\/th>\n      <th>sd_week<\/th>\n      <th>sloss_week<\/th>\n      <th>le_week<\/th>\n      <th>msf_sc<\/th>\n      <th>sjl_rel<\/th>\n      <th>sjl<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"tp","pageLength":8,"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,3,4]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[8,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
]

---

## Creating some plots

We will use the [viridis](https://cran.r-project.org/web/packages/viridis/vignettes/intro-to-viridis.html) package to create some colorblind-friendly plots. 
Let's see how the graph looks like with various color-vision-deficiency [simulations](https://github.com/clauswilke/colorblindr):




```r
fig &lt;- ggplot(iris, aes(Sepal.Length, fill = Species)) + 
  geom_density(alpha = 0.7) + theme_useR() + 
  theme(legend.position = c(0.8, 0.9),legend.margin = margin(),
        legend.title = element_blank()) 
fig_grid &lt;- cvd_grid(fig)
```

.center[
&lt;img src="index_files/figure-html/unnamed-chunk-13-1.png" width="40%" /&gt;&lt;img src="index_files/figure-html/unnamed-chunk-13-2.png" width="40%" /&gt;
]

---

Let's use a color scale that works better



```r
fig2 &lt;- ggplot(iris, aes(Sepal.Length, fill = Species)) + 
  geom_density(alpha = 0.8) + theme_useR() + 
  theme(legend.position = c(0.8, 0.9))+ 
  scale_fill_viridis(discrete = TRUE)
fig_grid2 &lt;- cvd_grid(fig2)
```


&lt;img src="index_files/figure-html/unnamed-chunk-15-1.png" width="48%" /&gt;&lt;img src="index_files/figure-html/unnamed-chunk-15-2.png" width="48%" /&gt;

---

## Do not forget to include alt-text to your figures!

Knitr (version &gt;= 1.31) have a new feature to add alt-text to your figures. Just add fig.alt = "Your alt-text” in the chunk options.

&lt;img src="index_files/figure-html/unnamed-chunk-16-1.png" title="Two ggplot panels, comparing default ggplot2 colors versus the ggplot2 result using viridis color palette. Each panel shows three superposed color-filled histograms. The default scale uses the colors salmon, light green and light blue, but viridis scale uses purple, aquamarine and yellow, which gives a better contrast." alt="Two ggplot panels, comparing default ggplot2 colors versus the ggplot2 result using viridis color palette. Each panel shows three superposed color-filled histograms. The default scale uses the colors salmon, light green and light blue, but viridis scale uses purple, aquamarine and yellow, which gives a better contrast." width="40%" /&gt;&lt;img src="index_files/figure-html/unnamed-chunk-16-2.png" title="Two ggplot panels, comparing default ggplot2 colors versus the ggplot2 result using viridis color palette. Each panel shows three superposed color-filled histograms. The default scale uses the colors salmon, light green and light blue, but viridis scale uses purple, aquamarine and yellow, which gives a better contrast." alt="Two ggplot panels, comparing default ggplot2 colors versus the ggplot2 result using viridis color palette. Each panel shows three superposed color-filled histograms. The default scale uses the colors salmon, light green and light blue, but viridis scale uses purple, aquamarine and yellow, which gives a better contrast." width="40%" /&gt;
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="libs/remark-latest.min.js"></script>
<script>var slideshow = remark.create();
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
