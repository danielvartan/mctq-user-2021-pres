<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>{mctq}:   An R Package for the Munich ChronoType Questionnaire</title>
    <meta charset="utf-8" />
    <meta name="author" content="Daniel Vartanian" />
    <script src="libs/header-attrs-2.9/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/useR.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/useR-fonts.css" rel="stylesheet" />
    <script src="libs/clipboard-2.0.6/clipboard.min.js"></script>
    <link href="libs/xaringanExtra-clipboard-0.2.6/xaringanExtra-clipboard.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-clipboard-0.2.6/xaringanExtra-clipboard.js"></script>
    <script>window.xaringanExtraClipboard(null, {"button":"Copy Code","success":"Copied!","error":"Press Ctrl+C to Copy"})</script>
    <link href="libs/xaringanExtra-extra-styles-0.2.6/xaringanExtra-extra-styles.css" rel="stylesheet" />
    <link href="libs/tile-view-0.2.6/tile-view.css" rel="stylesheet" />
    <script src="libs/tile-view-0.2.6/tile-view.js"></script>
    <script src="libs/xaringanExtra-webcam-0.0.1/webcam.js"></script>
    <script id="xaringanExtra-webcam-options" type="application/json">{"width":"200","height":"200","margin":"1em"}</script>
    <meta name="description" content="A brief introduction to the {mctq} package."/>
    <meta name="generator" content="xaringan and remark.js"/>
    <meta name="github-repo" content="gipsousp/mctq.user2021"/>
    <meta name="twitter:title" content="{mctq}: An R Package for the Munich ChronoType Questionnaire"/>
    <meta name="twitter:description" content="A brief introduction to the {mctq} package."/>
    <meta name="twitter:url" content="https://gipsousp.github.io/mctq.user2021"/>
    <meta name="twitter:image:src" content="https://gipsousp.github.io/mctq.user2021/img/cover.png"/>
    <meta name="twitter:image:alt" content="The first slide of the Introduction to the {mctq} Package presentation"/>
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:creator" content="@danielvartan"/>
    <meta name="twitter:site" content="@danielvartan"/>
    <meta property="og:title" content="{mctq}: An R Package for the Munich ChronoType Questionnaire"/>
    <meta property="og:description" content="A brief introduction to the {mctq} package."/>
    <meta property="og:url" content="https://gipsousp.github.io/mctq.user2021"/>
    <meta property="og:image" content="https://gipsousp.github.io/mctq.user2021/img/cover.png"/>
    <meta property="og:image:alt" content="The first slide of the Introduction to the {mctq} Package presentation"/>
    <meta property="og:type" content="website"/>
    <meta property="og:locale" content="en_US"/>
    <meta property="article:author" content="Daniel Vartanian"/>
    <!-- favicons -->
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
    <link rel="apple-touch-icon" type="image/png" sizes="180x180" href="img/apple-touch-icon.png">
    <link rel="apple-touch-icon" type="image/png" sizes="120x120" href="img/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" type="image/png" sizes="76x76" href="img/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" type="image/png" sizes="60x60" href="img/apple-touch-icon-60x60.png">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9NNBLRQZXL"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-9NNBLRQZXL');
    </script>
    <link rel="stylesheet" href="css/custom.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# {mctq}: <br> An R Package for the Munich ChronoType Questionnaire
### Daniel Vartanian
### July 2021

---











## Overview

.pull-left[
{mctq} is an R package that provides a complete and consistent toolkit to process the Munich ChronoType Questionnaire (MCTQ), a validated tool to assess chronotypes using peoplesâ€™ sleep behavior presented by Till Roenneberg, Anna Wirz-Justice, and Martha Merrow in [2003](https://doi.org/10.1177/0748730402239679).

The aim of {mctq} is to facilitate the work of sleep and chronobiology scientists with MCTQ data while also helping with research reproducibility.
]

.pull-right[
&lt;img src="img/logo.png" title="Hex logo of the {mctq} R package" alt="Hex logo of the {mctq} R package" width="50%" style="display: block; margin: auto;" /&gt;

Code repository: [https://github.com/gipsousp/mctq](https://github.com/gipsousp/mctq)

Documentation website: [https://gipsousp.github.io/mctq](https://gipsousp.github.io/mctq)
]

---

class: chapter-slide

# The MCTQ questionnaire

---

background-image: url("img/thewep_mctq-core_1.png")
background-position: center
background-size: contain

---

background-image: url("img/thewep_mctq-core_2.png")
background-position: center
background-size: contain

---

## Main challenges

* MCTQ requires a lot of date/time manipulation
* Lack of consistency in computations
* Inconsistencies can lead to irreproducible results

---

class: chapter-slide

# The {mctq} package

---

## Workdays and work-free days variables

* `fd()`: compute MCTQ work-free days
* `so()`: compute MCTQ local time of sleep onset
* `gu()`: compute MCTQ local time of getting out of bed
* `sd()`: compute MCTQ sleep duration
* `tbt()`: compute MCTQ total time in bed
* `ms()`: compute MCTQ local time of mid-sleep
* `napd()`: compute MCTQ nap duration (only for MCTQ Shift)
* `sd24()`: compute MCTQ 24 hours sleep duration (only for MCTQ Shift)

---

## Combining workdays and work-free days variables

* `sd_week()`: compute MCTQ average weekly sleep duration
* `sd_overall()`: compute MCTQ overall sleep duration (only for MCTQ Shift)
* `sloss_week()`: compute MCTQ weekly sleep loss
* `le_week()`: compute MCTQ average weekly light exposure
* `msf_sc()`: compute MCTQ chronotype or corrected local time of mid-sleep on work-free days
* `sjl_rel()` and `sjl()`: compute MCTQ social jet lag
* `sjl_weighted()`: compute MCTQ absolute social jetlag across all shifts (only for MCTQ Shift)

---

## Combining workdays and work-free days variables

Example:


```r
# Local time of mid-sleep on workdays
msw &lt;- c(hms::parse_hm("02:05"), hms::parse_hm("04:05"))
# Local time of mid-sleep on work-free days
msf &lt;- c(hms::parse_hm("23:05"), hms::parse_hm("08:30"))
# Relative social jetlag
sjl_rel(msw, msf)
```

```
## [1] "-10800s (~-3 hours)"  "15900s (~4.42 hours)"
```

---

class: chapter-slide

# Final remarks

---

## Notes

* {mctq} is currently under a [rOpenSci software peer review](https://github.com/ropensci/software-review/issues/434)
* We plan to submit {mctq} to CRAN soon after the review process ends
* We plan to invite the MCTQ authors to review and author the package
* An article about {mctq} will be published soon

---

class: chapter-slide

# Thank you!
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="libs/remark-latest.min.js"></script>
<script>var slideshow = remark.create();
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
