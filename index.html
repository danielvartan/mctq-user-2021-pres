<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>{mctq}:   An R Package for the Munich ChronoType Questionnaire</title>
    <meta charset="utf-8" />
    <meta name="author" content="Daniel Vartanian" />
    <script src="libs/header-attrs-2.9/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/useR.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/useR-fonts.css" rel="stylesheet" />
    <script src="libs/clipboard-2.0.6/clipboard.min.js"></script>
    <link href="libs/xaringanExtra-clipboard-0.2.6/xaringanExtra-clipboard.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-clipboard-0.2.6/xaringanExtra-clipboard.js"></script>
    <script>window.xaringanExtraClipboard(null, {"button":"Copy Code","success":"Copied!","error":"Press Ctrl+C to Copy"})</script>
    <link href="libs/xaringanExtra-extra-styles-0.2.6/xaringanExtra-extra-styles.css" rel="stylesheet" />
    <link href="libs/tile-view-0.2.6/tile-view.css" rel="stylesheet" />
    <script src="libs/tile-view-0.2.6/tile-view.js"></script>
    <script src="libs/xaringanExtra-webcam-0.0.1/webcam.js"></script>
    <script id="xaringanExtra-webcam-options" type="application/json">{"width":"200","height":"200","margin":"1em"}</script>
    <meta name="description" content="A brief introduction to the {mctq} package."/>
    <meta name="generator" content="xaringan and remark.js"/>
    <meta name="github-repo" content="gipsousp/mctq.user2021"/>
    <meta name="twitter:title" content="{mctq}: An R Package for the Munich ChronoType Questionnaire"/>
    <meta name="twitter:description" content="A brief introduction to the {mctq} package."/>
    <meta name="twitter:url" content="https://gipsousp.github.io/mctq.user2021"/>
    <meta name="twitter:image:src" content="https://gipsousp.github.io/mctq.user2021/img/cover.png"/>
    <meta name="twitter:image:alt" content="The first slide of the Introduction to the {mctq} Package presentation"/>
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:creator" content="@danielvartan"/>
    <meta name="twitter:site" content="@danielvartan"/>
    <meta property="og:title" content="{mctq}: An R Package for the Munich ChronoType Questionnaire"/>
    <meta property="og:description" content="A brief introduction to the {mctq} package."/>
    <meta property="og:url" content="https://gipsousp.github.io/mctq.user2021"/>
    <meta property="og:image" content="https://gipsousp.github.io/mctq.user2021/img/cover.png"/>
    <meta property="og:image:alt" content="The first slide of the Introduction to the {mctq} Package presentation"/>
    <meta property="og:type" content="website"/>
    <meta property="og:locale" content="en_US"/>
    <meta property="article:author" content="Daniel Vartanian"/>
    <script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
    <script src="libs/jquery-3.5.1/jquery.min.js"></script>
    <link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
    <script src="libs/datatables-binding-0.18/datatables.js"></script>
    <link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
    <script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
    <link href="libs/dt-ext-keytable-1.10.20/css/keyTable.dataTables.min.css" rel="stylesheet" />
    <script src="libs/dt-ext-keytable-1.10.20/js/dataTables.keyTable.min.js"></script>
    <link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
    <script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
    <!-- favicons -->
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
    <link rel="apple-touch-icon" type="image/png" sizes="180x180" href="img/apple-touch-icon.png">
    <link rel="apple-touch-icon" type="image/png" sizes="120x120" href="img/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" type="image/png" sizes="76x76" href="img/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" type="image/png" sizes="60x60" href="img/apple-touch-icon-60x60.png">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9NNBLRQZXL"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-9NNBLRQZXL');
    </script>
    <link rel="stylesheet" href="css/custom.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# {mctq}: <br> An R Package for the Munich ChronoType Questionnaire
### Daniel Vartanian
### July 2021

---









## Overview

.pull-left[
`mctq` is an R package that provides a complete and consistent toolkit to process the Munich ChronoType Questionnaire (MCTQ), a quantitative and validated tool to assess chronotypes using peoples’ sleep behavior presented by Till Roenneberg, Anna Wirz-Justice, and Martha Merrow in [2003](https://doi.org/10.1177/0748730402239679).

The aim of `mctq` is to facilitate the work of sleep and chronobiology scientists with MCTQ data while also helping with research reproducibility.
]

.pull-right[
&lt;img src="img/logo.png" title="Hex logo of the {mctq} R package" alt="Hex logo of the {mctq} R package" width="50%" style="display: block; margin: auto;" /&gt;

Code repository: [https://github.com/gipsousp/mctq](https://github.com/gipsousp/mctq)

Documentation website: [https://gipsousp.github.io/mctq](https://gipsousp.github.io/mctq)
]

---

class: chapter-slide

# What is the MCTQ?

---

## Chronotypes: temporal phenotypes

.pull-left[
The MCTQ questionnaire is a chronotyping tool that measures peoples’ sleep-wake behavior, using it as a proxy to assess circadian phenotypes. That is, temporal characteristics expressed in periods of about a day, usually represented by diurnal preferences in a morning-evening spectrum.
]

.pull.right[
&lt;img src="https://media.giphy.com/media/3o7aD0v27NBhhOfdXW/giphy.gif" title="A gif animation showing a 'morning' and an 'evening' dog with a legend that says 'Morning people vs Me'." alt="A gif animation showing a 'morning' and an 'evening' dog with a legend that says 'Morning people vs Me'." width="50%" style="display: block; margin: auto;" /&gt;
]

---

background-image: url("img/thewep_mctq-core_1.png")
background-position: center
background-size: contain

---

background-image: url("img/thewep_mctq-core_2.png")
background-position: center
background-size: contain

---

## Main challenges

* MCTQ requires a lot of date/time manipulation
* Lack of consistency in computations
* Inconsistencies can lead to irreproducible results

---

class: chapter-slide

# The {mctq} package

---

## Installation

At the moment, `mctq` is under a [software peer review]((https://github.com/ropensci/software-review/issues/434)) with the rOpenSci initiative and can only be installed with a remote installer like the {remotes} or {pak} package.


```r
# install.packages("pak")
pak::pkg_install("gipsousp/mctq")
```


```r
library(mctq)
```

---

## Conversion

`mctq` works with a set of object classes specially created to hold time values. These classes can be found in the [lubridate](https://lubridate.tidyverse.org/) and [hms](https://hms.tidyverse.org/) packages from [tidyverse](https://www.tidyverse.org/packages/). If your data do not conform to the object classes required, you can use `mctq` `convert()` function to convert it.


```r
# From decimal hours to `hms`
convert(6.5, "hms", input_unit = "H")
```

```
## 06:30:00
```

```r
# From `character` `HM AM/PM ` to `hms`
convert("10:00 PM", "hms", orders = "IMp")
```

```
## 22:00:00
```

---

## Workdays and work-free days variables

After your data is set to start, just use the `mctq` functions below to process it.

Note that the `mctq` functions uses a similar naming scheme to that used in the MCTQ publications. That makes it easy to find and apply any computation necessary.

* `fd()`: compute MCTQ work-free days
* `so()`: compute MCTQ local time of sleep onset
* `gu()`: compute MCTQ local time of getting out of bed
* `sd()`: compute MCTQ sleep duration
* `tbt()`: compute MCTQ total time in bed
* `ms()`: compute MCTQ local time of mid-sleep
* `napd()`: compute MCTQ nap duration (only for MCTQ Shift)
* `sd24()`: compute MCTQ 24 hours sleep duration (only for MCTQ Shift)

---

## Workdays and work-free days variables

Example:


```r
# Local time of preparing to sleep on workdays
sprep_w &lt;- c(hms::parse_hms("23:45:00"), hms::parse_hms("02:15:00"))
# Sleep latency or time to fall asleep after preparing to sleep on workdays
slat_w &lt;- c(lubridate::dminutes(30), lubridate::dminutes(90))
# Local time of sleep onset on workdays
so(sprep_w, slat_w)
```

```
## 00:15:00
## 03:45:00
```

---

## Combining workdays and work-free days variables

For computations combining workdays and work-free days, use:

* `sd_week()`: compute MCTQ average weekly sleep duration
* `sd_overall()`: compute MCTQ overall sleep duration (only for MCTQ Shift)
* `sloss_week()`: compute MCTQ weekly sleep loss
* `le_week()`: compute MCTQ average weekly light exposure
* `msf_sc()`: compute MCTQ chronotype or corrected local time of mid-sleep on work-free days
* `sjl_rel()` and `sjl()`: compute MCTQ social jet lag
* `sjl_weighted()`: compute MCTQ absolute social jetlag across all shifts (only for MCTQ Shift)

---

## Combining workdays and work-free days variables

Example:


```r
# Local time of mid-sleep on workdays
msw &lt;- c(hms::parse_hms("02:05:00"), hms::parse_hms("04:05:00"))
# Local time of mid-sleep on work-free days
msf &lt;- c(hms::parse_hms("23:05:00"), hms::parse_hms("08:30:00"))
# Relative social jetlag
sjl_rel(msw, msf)
```

```
## [1] "-10800s (~-3 hours)"  "15900s (~4.42 hours)"
```

---

## Utilities and data

In addition to `convert()`, `mctq` is also equipped with many other utility functions. The package also provides __fictional__ datasets of the standard, micro, and shift MCTQ versions __for testing and learning purposes__.

<div id="htmlwidget-cb68a13dfdae516a19db" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-cb68a13dfdae516a19db">{"x":{"filter":"none","extensions":["KeyTable"],"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,null,true,false,false,false,false,false,false,false,false,false,false,false,false,false,false,null,false,false,false,false,false,false,false,false,null,false,false,false,false,false,false,false],[2,7,5,5,2,5,3,5,7,2,3,2,5,7,5,3,5,null,null,5,6,5,null,1,2,5,1,5,6,1,4,6,5,null,5,5,1,3,null,5,5,5,null,1,5,7,5,5,5,5],[5,0,2,2,5,2,4,2,0,5,4,5,2,0,2,4,2,null,null,2,1,2,null,6,5,2,6,2,1,6,3,1,2,null,2,2,6,4,null,2,2,2,null,6,2,0,2,2,2,2],["21:45:00","23:15:00","23:00:00","01:45:00","23:45:00","00:00:00","22:30:00","23:25:00","23:50:00","01:00:00","23:25:00","01:05:00","00:00:00","23:40:00","23:35:00","00:00:00","23:20:00",null,null,"00:00:00",null,"00:00:00",null,"23:25:00","01:45:00","22:25:00","00:00:00","23:15:00","00:00:00","22:05:00","22:25:00","23:45:00","23:15:00",null,"23:20:00","00:00:00","23:20:00","21:40:00",null,"23:55:00","23:10:00","22:55:00",null,"00:00:00","00:00:00","00:00:00","00:00:00","00:00:00","23:20:00","23:45:00"],["09:15:00","06:25:00","05:50:00","06:30:00","05:35:00","06:45:00","07:35:00","07:35:00","07:40:00","08:00:00","05:05:00","10:45:00","07:50:00","06:30:00","05:25:00","07:15:00","04:35:00",null,null,"04:25:00",null,"07:40:00",null,"07:50:00","07:55:00","05:30:00","07:20:00","04:40:00","06:50:00","04:50:00","07:40:00","04:55:00","07:15:00",null,"05:40:00","07:40:00","05:25:00","05:30:00","12:15:00","05:10:00","07:00:00","05:45:00",null,"08:00:00","06:40:00","07:00:00","09:40:00","06:45:00","06:55:00","08:30:00"],["11:30:00","07:10:00","06:50:00","04:45:00","05:50:00","06:45:00","09:05:00","08:10:00","07:50:00","07:00:00","05:40:00","09:40:00","07:50:00","06:50:00","05:50:00","07:15:00","05:15:00",null,null,"04:25:00",null,"07:40:00",null,"08:25:00","06:10:00","07:05:00","07:20:00","05:25:00","06:50:00","06:45:00","09:15:00","05:10:00","08:00:00",null,"06:20:00","07:40:00","06:05:00","07:50:00",null,"05:15:00","07:50:00","06:50:00",null,"08:00:00","06:40:00","07:00:00","09:40:00","06:45:00","07:35:00","08:45:00"],["03:30:00","02:50:00","02:25:00","04:07:30","02:40:00","03:22:30","03:02:30","03:30:00","03:45:00","04:30:00","02:15:00","05:55:00","03:55:00","03:05:00","02:30:00","03:37:30","01:57:30",null,null,"02:12:30",null,"03:50:00",null,"03:37:30","04:50:00","01:57:30","03:40:00","01:57:30","03:25:00","01:27:30","03:02:30","02:20:00","03:15:00",null,"02:30:00","03:50:00","02:22:30","01:35:00",null,"02:32:30","03:05:00","02:20:00",null,"04:00:00","03:20:00","03:30:00","04:50:00","03:22:30","03:07:30","04:07:30"],["00:35:00","23:25:00","03:05:00","02:45:00","02:15:00","01:55:00","01:45:00","00:00:00","23:55:00",null,"00:00:00","02:40:00","02:25:00",null,"02:40:00","01:30:00","01:45:00",null,null,"02:10:00","22:45:00","01:50:00","05:30:00","00:00:00","01:50:00","23:55:00","01:50:00","01:25:00","00:00:00","03:00:00","02:05:00","02:30:00","02:30:00",null,"01:25:00","01:55:00","01:20:00","02:50:00",null,"01:50:00","23:10:00","03:00:00",null,"01:40:00","00:00:00","01:45:00","01:35:00","00:00:00","01:35:00","01:45:00"],["06:00:00","07:20:00","10:30:00","12:00:00","10:30:00","10:25:00","11:00:00","10:05:00","08:50:00",null,"09:15:00","12:40:00","11:20:00",null,"10:10:00","13:50:00","11:25:00",null,null,"09:35:00","06:00:00","10:40:00","15:00:00","10:35:00","11:30:00","08:10:00","11:20:00","08:55:00","10:50:00","12:10:00","12:50:00","09:50:00","10:00:00",null,"09:40:00","10:40:00","12:50:00","10:35:00","14:12:00","11:15:00","07:00:00","11:40:00",null,"11:15:00","08:35:00","09:10:00","11:05:00","07:50:00","10:35:00","11:15:00"],["05:25:00","07:55:00","07:25:00","09:15:00","08:15:00","08:30:00","09:15:00","10:05:00","08:55:00",null,"09:15:00","10:00:00","08:55:00",null,"07:30:00","12:20:00","09:40:00",null,null,"07:25:00","07:15:00","08:50:00","09:30:00","10:35:00","09:40:00","08:15:00","09:30:00","07:30:00","10:50:00","09:10:00","10:45:00","07:20:00","07:30:00",null,"08:15:00","08:45:00","11:30:00","07:45:00",null,"09:25:00","07:50:00","08:40:00",null,"09:35:00","08:35:00","07:25:00","09:30:00","07:50:00","09:00:00","09:30:00"],["03:17:30","03:22:30","06:47:30","07:22:30","06:22:30","06:10:00","06:22:30","05:02:30","04:22:30",null,"04:37:30","07:40:00","06:52:30",null,"06:25:00","07:40:00","06:35:00",null,null,"05:52:30","02:22:30","06:15:00","10:15:00","05:17:30","06:40:00","04:02:30","06:35:00","05:10:00","05:25:00","07:35:00","07:27:30","06:10:00","06:15:00",null,"05:32:30","06:17:30","07:05:00","06:42:30",null,"06:32:30","03:05:00","07:20:00",null,"06:27:30","04:17:30","05:27:30","06:20:00","03:55:00","06:05:00","06:30:00"],["07:09:17","07:10:00","07:00:00","06:02:09","07:33:34","07:15:00","09:10:43","08:42:51","07:50:00",null,"07:42:51","09:54:17","08:08:34","06:50:00","06:18:34","10:09:17","06:30:43",null,null,"05:16:26",null,"08:00:00",null,"10:16:26","08:40:00","07:25:00","09:11:26","06:00:43","07:24:17","08:49:17","09:53:34","05:28:34","07:51:26",null,"06:52:51","07:58:34","10:43:34","07:47:09",null,"06:26:26","07:50:00","07:21:26",null,"09:21:26","07:12:51","07:00:00","09:37:09","07:03:34","07:59:17","08:57:51"],["08:41:26","00:00:00","00:50:00","06:25:43","03:27:09","02:30:00","00:17:09","02:44:17","00:00:00",null,"06:08:34","00:28:34","01:32:51",null,"02:22:51","08:42:51","06:18:34",null,null,"04:17:09",null,"01:40:00",null,"01:51:26","05:00:00","01:40:00","01:51:26","02:58:34","03:25:43","02:04:17","02:34:17","01:51:26","00:42:51",null,"02:44:17","01:32:51","04:38:34","00:08:34",null,"05:57:09","00:00:00","02:37:09",null,"01:21:26","02:44:17","00:00:00","00:14:17","01:32:51","02:01:26","01:04:17"],["03:17:30","03:00:00","06:35:00","05:46:04","06:01:47","05:32:30","06:20:21","04:21:26","03:50:00",null,"03:51:26","07:37:09","06:29:17",null,"05:49:17","06:34:39","05:00:21",null,null,"04:48:13",null,"05:50:00",null,"05:08:13","06:10:00","03:37:30","06:25:43","04:25:21","03:42:09","07:24:39","07:01:47","05:14:17","06:15:00",null,"04:51:26","05:54:17","06:41:47","06:42:30",null,"05:03:13","03:05:00","06:40:43",null,"06:20:43","03:36:26","05:15:00","06:20:00","03:31:47","05:34:39","06:13:56"],["-00:12:30","00:32:30","04:22:30","03:15:00","03:42:30","02:47:30","03:20:00","01:32:30","00:37:30",null,"02:22:30","01:45:00","02:57:30",null,"03:55:00","04:02:30","04:37:30",null,null,"03:40:00",null,"02:25:00",null,"01:40:00","01:50:00","02:05:00","02:55:00","03:12:30","02:00:00","06:07:30","04:25:00","03:50:00","03:00:00",null,"03:02:30","02:27:30","04:42:30","05:07:30",null,"04:00:00","00:00:00","05:00:00",null,"02:27:30","00:57:30","01:57:30","01:30:00","00:32:30","02:57:30","02:22:30"],["00:12:30","00:32:30","04:22:30","03:15:00","03:42:30","02:47:30","03:20:00","01:32:30","00:37:30",null,"02:22:30","01:45:00","02:57:30",null,"03:55:00","04:02:30","04:37:30",null,null,"03:40:00",null,"02:25:00",null,"01:40:00","01:50:00","02:05:00","02:55:00","03:12:30","02:00:00","06:07:30","04:25:00","03:50:00","03:00:00",null,"03:02:30","02:27:30","04:42:30","05:07:30",null,"04:00:00","00:00:00","05:00:00",null,"02:27:30","00:57:30","01:57:30","01:30:00","00:32:30","02:57:30","02:22:30"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>id<\/th>\n      <th>shift_work<\/th>\n      <th>wd<\/th>\n      <th>fd<\/th>\n      <th>so_w<\/th>\n      <th>se_w<\/th>\n      <th>sd_w<\/th>\n      <th>msw<\/th>\n      <th>so_f<\/th>\n      <th>se_f<\/th>\n      <th>sd_f<\/th>\n      <th>msf<\/th>\n      <th>sd_week<\/th>\n      <th>sloss_week<\/th>\n      <th>msf_sc<\/th>\n      <th>sjl_rel<\/th>\n      <th>sjl<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"tp","pageLength":6,"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,3,4]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[6,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

---

## Documentation

We spent a lot of time documenting the package, so the user can be assured that he will have all the information needed to operate and understand the mechanics behind each computation.

&lt;iframe src="https://gipsousp.github.io/mctq/reference/msf_sc.html" width="100%" height="300px"&gt;&lt;/iframe&gt;

---

class: chapter-slide

# Final remarks

---

## Notes

* `mctq` is currently under a [rOpenSci software peer review](https://github.com/ropensci/software-review/issues/434). We plan to submit it to CRAN soon after the review process ends.
* We plan to invite the MCTQ authors to review and author the package
* An article about `mctq` will be published soon

---

class: chapter-slide

# Thank you!
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="libs/remark-latest.min.js"></script>
<script>var slideshow = remark.create();
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
